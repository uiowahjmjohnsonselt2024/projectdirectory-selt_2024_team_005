<div data-controller="grid">
  <div class="grid-container">
    <div id="character-stats">
      <h2>Character Name</h2>
      <p>Character stats</p>
    </div>

    <div class="grid">
      <% @grid_matrix.each do |row| %>
        <div class="grid-row">
          <% row.each do |cell| %>
            <% css_class = cell.cell_loc == 'R0C0' ? 'grid-cell safe-zone' : 'grid-cell' %>
            <div class="<%= css_class %>"
                 data-action="click->grid#showDetails"
                 data-cell-id="<%= cell.id %>">
              <%= cell.cell_loc %>
              <% if @character && @character.cell_id == cell.cell_id %>
                <div class="character" data-character-id="<%= @character.id %>" >
                  <%= @character.character_name %>
                </div>
              <% end %>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>

    <div id="cell-details" data-grid-target="details">
      <h2>Cell Details</h2>
      <div>Select a cell to see the details!</div>
    </div>
  </div>

</div>
